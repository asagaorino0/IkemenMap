{"file_contents":{"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"app/page.tsx":{"content":"import { getAllStores } from \"@/lib/actions\";\nimport { MapView } from \"@/components/map-view\";\nimport Link from \"next/link\";\nimport { Button } from \"@/components/ui/button\";\n\nexport default async function HomePage() {\n  const stores = await getAllStores();\n\n  return (\n    <div className=\"relative\">\n      <div className=\"absolute top-4 left-4 z-30\">\n        <Link href=\"/listings\">\n          <Button variant=\"secondary\" size=\"lg\">\n            View All Staff\n          </Button>\n        </Link>\n      </div>\n      <MapView stores={stores} />\n    </div>\n  );\n}\n","size_bytes":560},"components/map-view.tsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport { APIProvider, Map, AdvancedMarker, Pin } from \"@vis.gl/react-google-maps\";\nimport { Store } from \"@/shared/schema\";\nimport { StaffPanel } from \"./staff-panel\";\n\ninterface MapViewProps {\n  stores: Store[];\n}\n\nexport function MapView({ stores }: MapViewProps) {\n  const [selectedStore, setSelectedStore] = useState<Store | null>(null);\n  const apiKey = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || \"\";\n\n  const center = stores.length > 0\n    ? { lat: stores[0].latitude, lng: stores[0].longitude }\n    : { lat: 35.6812, lng: 139.7671 };\n\n  return (\n    <div className=\"relative w-full h-screen\">\n      <APIProvider apiKey={apiKey}>\n        <Map\n          defaultCenter={center}\n          defaultZoom={12}\n          mapId=\"staff-introduction-map\"\n          className=\"w-full h-full\"\n        >\n          {stores.map((store) => (\n            <AdvancedMarker\n              key={store.id}\n              position={{ lat: store.latitude, lng: store.longitude }}\n              onClick={() => setSelectedStore(store)}\n            >\n              <Pin\n                background=\"#1a73e8\"\n                borderColor=\"#174ea6\"\n                glyphColor=\"#fff\"\n              />\n            </AdvancedMarker>\n          ))}\n        </Map>\n      </APIProvider>\n\n      <StaffPanel\n        store={selectedStore}\n        onClose={() => setSelectedStore(null)}\n      />\n    </div>\n  );\n}\n","size_bytes":1428},"README.md":{"content":"# Staff Introduction Application\n\nA Next.js 15 application with Google Maps integration for displaying staff profiles and store locations.\n\n## Features\n\n- üó∫Ô∏è Interactive Google Maps with store markers\n- üë• Staff profile display with sliding panel\n- üìã Staff listings page sorted by posted date\n- üé® Modern UI with Tailwind CSS and Shadcn UI\n- üóÑÔ∏è PostgreSQL database with Drizzle ORM\n\n## Tech Stack\n\n- **Framework**: Next.js 15 (App Router)\n- **Language**: TypeScript\n- **Styling**: Tailwind CSS\n- **UI Components**: Shadcn UI\n- **Database**: PostgreSQL\n- **ORM**: Drizzle ORM\n- **Maps**: Google Maps (@vis.gl/react-google-maps)\n\n## Getting Started\n\n### Prerequisites\n\n- Node.js 20.x or higher\n- PostgreSQL database (configured via DATABASE_URL)\n\n### Installation\n\n1. Install dependencies:\n```bash\nnpm install\n```\n\n2. Set up environment variables:\nCreate a `.env.local` file with the following:\n\n```env\nNEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here\nDATABASE_URL=your_database_url_here\n```\n\n### Google Maps API Key Setup\n\n1. Go to [Google Cloud Console](https://console.cloud.google.com/)\n2. Create a new project or select an existing one\n3. Enable the **Maps JavaScript API**\n4. Create credentials (API Key)\n5. Copy the API key to your `.env.local` file\n\n### Database Setup\n\n1. Push the database schema:\n```bash\nnpm run db:push\n```\n\n2. Seed the database with sample data:\n```bash\nnpx tsx lib/seed.ts\n```\n\n### Development\n\nRun the development server:\n```bash\nnpm run dev\n```\n\nOpen [http://localhost:5000](http://localhost:5000) in your browser.\n\n## Project Structure\n\n```\n‚îú‚îÄ‚îÄ app/                    # Next.js App Router pages\n‚îÇ   ‚îú‚îÄ‚îÄ page.tsx           # Homepage with map view\n‚îÇ   ‚îú‚îÄ‚îÄ listings/          # Staff listings page\n‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # Root layout\n‚îÇ   ‚îî‚îÄ‚îÄ globals.css        # Global styles\n‚îú‚îÄ‚îÄ components/            # React components\n‚îÇ   ‚îú‚îÄ‚îÄ map-view.tsx       # Google Maps component\n‚îÇ   ‚îú‚îÄ‚îÄ staff-panel.tsx    # Sliding staff profile panel\n‚îÇ   ‚îî‚îÄ‚îÄ ui/                # Shadcn UI components\n‚îú‚îÄ‚îÄ lib/                   # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ actions.ts         # Server actions\n‚îÇ   ‚îú‚îÄ‚îÄ seed.ts            # Database seed script\n‚îÇ   ‚îî‚îÄ‚îÄ utils.ts           # Helper functions\n‚îú‚îÄ‚îÄ server/                # Server-side code\n‚îÇ   ‚îî‚îÄ‚îÄ db.ts              # Database connection\n‚îú‚îÄ‚îÄ shared/                # Shared code\n‚îÇ   ‚îî‚îÄ‚îÄ schema.ts          # Database schema\n‚îî‚îÄ‚îÄ drizzle.config.ts      # Drizzle ORM config\n```\n\n## Database Schema\n\n### Stores Table\n\n| Column | Type | Description |\n|--------|------|-------------|\n| id | serial | Primary key |\n| companyName | text | Company name |\n| storeName | text | Store name |\n| address | text | Store address |\n| tel | text | Phone number |\n| sns | text | Social media handle |\n| staffName | text | Staff member name |\n| latitude | double | Store latitude |\n| longitude | double | Store longitude |\n| postedAt | timestamp | Post date (auto-generated) |\n\n## Available Scripts\n\n- `npm run dev` - Start development server\n- `npm run build` - Build for production\n- `npm run start` - Start production server\n- `npm run lint` - Run ESLint\n- `npm run db:push` - Push database schema\n- `npm run db:studio` - Open Drizzle Studio\n\n## Pages\n\n### Homepage (/)\n- Interactive Google Maps with store markers\n- Click markers to view staff profiles in sliding panel\n- Button to navigate to staff listings\n\n### Listings Page (/listings)\n- Grid view of all staff members\n- Sorted by posted date (newest first)\n- Shows store details and contact information\n- Back button to return to map view\n\n## Contributing\n\nThis is a Replit project. Feel free to fork and customize for your needs.\n\n## License\n\nISC\n","size_bytes":3810},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nexport default defineConfig({\n  schema: \"./shared/schema.ts\",\n  out: \"./drizzle\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL!,\n  },\n});\n","size_bytes":216},"app/layout.tsx":{"content":"import type { Metadata } from \"next\";\nimport \"./globals.css\";\n\nexport const metadata: Metadata = {\n  title: \"Staff Introduction | Store Locations\",\n  description: \"Find our stores and meet our staff members\",\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <body className=\"antialiased\">\n        {children}\n      </body>\n    </html>\n  );\n}\n","size_bytes":432},"lib/seed.ts":{"content":"import { db } from \"@/server/db\";\nimport { stores } from \"@/shared/schema\";\n\nasync function seed() {\n  console.log(\"Seeding database...\");\n\n  const sampleStores = [\n    {\n      companyName: \"Coffee & Co.\",\n      storeName: \"Downtown Cafe\",\n      address: \"123 Main St, Tokyo, Japan\",\n      tel: \"03-1234-5678\",\n      sns: \"@downtown_cafe\",\n      staffName: \"Yuki Tanaka\",\n      latitude: 35.6812,\n      longitude: 139.7671,\n    },\n    {\n      companyName: \"Coffee & Co.\",\n      storeName: \"Shibuya Branch\",\n      address: \"456 Shibuya Crossing, Tokyo, Japan\",\n      tel: \"03-2345-6789\",\n      sns: \"@shibuya_cafe\",\n      staffName: \"Kenji Sato\",\n      latitude: 35.6595,\n      longitude: 139.7004,\n    },\n    {\n      companyName: \"Coffee & Co.\",\n      storeName: \"Shinjuku Station\",\n      address: \"789 Shinjuku St, Tokyo, Japan\",\n      tel: \"03-3456-7890\",\n      sns: \"@shinjuku_cafe\",\n      staffName: \"Aiko Yamamoto\",\n      latitude: 35.6896,\n      longitude: 139.7006,\n    },\n    {\n      companyName: \"Bakery Delights\",\n      storeName: \"Roppongi Bakery\",\n      address: \"321 Roppongi Hills, Tokyo, Japan\",\n      tel: \"03-4567-8901\",\n      sns: \"@roppongi_bakery\",\n      staffName: \"Hiroshi Nakamura\",\n      latitude: 35.6606,\n      longitude: 139.7298,\n    },\n    {\n      companyName: \"Tea House\",\n      storeName: \"Ginza Tea Room\",\n      address: \"654 Ginza Ave, Tokyo, Japan\",\n      tel: \"03-5678-9012\",\n      sns: \"@ginza_tea\",\n      staffName: \"Sakura Suzuki\",\n      latitude: 35.6724,\n      longitude: 139.7650,\n    },\n  ];\n\n  await db.insert(stores).values(sampleStores);\n  console.log(\"Seeding completed!\");\n}\n\nseed()\n  .then(() => process.exit(0))\n  .catch((error) => {\n    console.error(\"Error seeding database:\", error);\n    process.exit(1);\n  });\n","size_bytes":1763},"components/ui/button.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","size_bytes":1911},"components/ui/card.tsx":{"content":"import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","size_bytes":1891},"components/staff-panel.tsx":{"content":"\"use client\";\n\nimport { Store } from \"@/shared/schema\";\nimport { X, Phone, MapPin } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface StaffPanelProps {\n  store: Store | null;\n  onClose: () => void;\n}\n\nexport function StaffPanel({ store, onClose }: StaffPanelProps) {\n  if (!store) return null;\n\n  return (\n    <>\n      <div\n        className=\"fixed inset-0 bg-black/20 z-40\"\n        onClick={onClose}\n      />\n      <div className=\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-start mb-6\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">\n                {store.staffName}\n              </h2>\n              <p className=\"text-sm text-gray-500 mt-1\">{store.companyName}</p>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={onClose}\n              className=\"h-8 w-8\"\n            >\n              <X className=\"h-5 w-5\" />\n            </Button>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                {store.storeName}\n              </h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-start gap-3\">\n                  <MapPin className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                  <div>\n                    <p className=\"text-sm text-gray-600\">{store.address}</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-3\">\n                  <Phone className=\"h-5 w-5 text-gray-400\" />\n                  <a\n                    href={`tel:${store.tel}`}\n                    className=\"text-sm text-blue-600 hover:underline\"\n                  >\n                    {store.tel}\n                  </a>\n                </div>\n\n                {store.sns && (\n                  <div className=\"flex items-center gap-3\">\n                    <svg\n                      className=\"h-5 w-5 text-gray-400\"\n                      fill=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path d=\"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84\" />\n                    </svg>\n                    <span className=\"text-sm text-gray-600\">{store.sns}</span>\n                  </div>\n                )}\n\n                <div className=\"mt-4 pt-4 border-t\">\n                  <p className=\"text-xs text-gray-400\">\n                    Posted on {new Date(store.postedAt).toLocaleDateString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","size_bytes":3251},"shared/schema.ts":{"content":"import { pgTable, serial, text, timestamp, doublePrecision } from \"drizzle-orm/pg-core\";\n\nexport const stores = pgTable(\"stores\", {\n  id: serial(\"id\").primaryKey(),\n  companyName: text(\"company_name\").notNull(),\n  storeName: text(\"store_name\").notNull(),\n  address: text(\"address\").notNull(),\n  tel: text(\"tel\").notNull(),\n  sns: text(\"sns\"),\n  staffName: text(\"staff_name\").notNull(),\n  latitude: doublePrecision(\"latitude\").notNull(),\n  longitude: doublePrecision(\"longitude\").notNull(),\n  postedAt: timestamp(\"posted_at\").notNull().defaultNow(),\n});\n\nexport type Store = typeof stores.$inferSelect;\nexport type InsertStore = typeof stores.$inferInsert;\n","size_bytes":656},"next.config.ts":{"content":"import type { NextConfig } from \"next\";\n\nconst nextConfig: NextConfig = {};\n\nexport default nextConfig;\n","size_bytes":104},"app/listings/page.tsx":{"content":"import { getAllStores } from \"@/lib/actions\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport Link from \"next/link\";\nimport { MapPin, Phone, ArrowLeft } from \"lucide-react\";\n\nexport default async function ListingsPage() {\n  const stores = await getAllStores();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"mb-8\">\n          <Link href=\"/\">\n            <Button variant=\"ghost\" className=\"mb-4\">\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Map\n            </Button>\n          </Link>\n          <h1 className=\"text-4xl font-bold text-gray-900\">Staff Directory</h1>\n          <p className=\"text-gray-600 mt-2\">\n            Browse all our staff members and store locations\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {stores.map((store) => (\n            <Card key={store.id} className=\"hover:shadow-lg transition-shadow\">\n              <CardHeader>\n                <CardTitle className=\"text-xl\">{store.staffName}</CardTitle>\n                <CardDescription>{store.companyName}</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  <div>\n                    <h4 className=\"font-semibold text-sm text-gray-900 mb-2\">\n                      {store.storeName}\n                    </h4>\n                  </div>\n\n                  <div className=\"flex items-start gap-2 text-sm text-gray-600\">\n                    <MapPin className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\n                    <span>{store.address}</span>\n                  </div>\n\n                  <div className=\"flex items-center gap-2 text-sm\">\n                    <Phone className=\"h-4 w-4 flex-shrink-0\" />\n                    <a\n                      href={`tel:${store.tel}`}\n                      className=\"text-blue-600 hover:underline\"\n                    >\n                      {store.tel}\n                    </a>\n                  </div>\n\n                  {store.sns && (\n                    <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                      <svg\n                        className=\"h-4 w-4 flex-shrink-0\"\n                        fill=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path d=\"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84\" />\n                      </svg>\n                      <span>{store.sns}</span>\n                    </div>\n                  )}\n\n                  <div className=\"pt-3 border-t\">\n                    <p className=\"text-xs text-gray-400\">\n                      Posted {new Date(store.postedAt).toLocaleDateString()}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {stores.length === 0 && (\n          <div className=\"text-center py-12\">\n            <p className=\"text-gray-500\">No staff members found.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":3646},"lib/actions.ts":{"content":"\"use server\";\n\nimport { db } from \"@/server/db\";\nimport { stores } from \"@/shared/schema\";\nimport { desc, eq } from \"drizzle-orm\";\n\nexport async function getAllStores() {\n  return await db.select().from(stores).orderBy(desc(stores.postedAt));\n}\n\nexport async function getStoreById(id: number) {\n  const result = await db.select().from(stores).where(eq(stores.id, id));\n  return result[0] || null;\n}\n","size_bytes":399},"lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","size_bytes":169},"replit.md":{"content":"# Staff Introduction Application\n\n## Project Overview\nA Next.js 15 App Router application featuring Google Maps integration for displaying staff profiles and store locations. Built with TypeScript, Tailwind CSS, Shadcn UI, and PostgreSQL database with Drizzle ORM.\n\n## Current State\n- ‚úÖ **Next.js 15.5.6** running on port 5000\n- ‚úÖ **Database** configured with Drizzle ORM (PostgreSQL via Neon)\n- ‚úÖ **Sample Data** seeded (5 stores in Tokyo)\n- ‚úÖ **Homepage** with Google Maps integration (requires API key)\n- ‚úÖ **Listings Page** displaying staff cards sorted by date\n- ‚úÖ **Workflow** configured and running successfully\n\n## Project Architecture\n\n### Tech Stack\n- **Framework**: Next.js 15.5.6 (App Router)\n- **Language**: TypeScript\n- **Styling**: Tailwind CSS 3.x + Shadcn UI\n- **Database**: PostgreSQL (Neon Serverless)\n- **ORM**: Drizzle ORM\n- **Maps**: @vis.gl/react-google-maps\n\n### Directory Structure\n```\n‚îú‚îÄ‚îÄ app/                    # Next.js App Router\n‚îÇ   ‚îú‚îÄ‚îÄ page.tsx           # Homepage with map\n‚îÇ   ‚îú‚îÄ‚îÄ listings/page.tsx  # Staff listings\n‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # Root layout\n‚îÇ   ‚îî‚îÄ‚îÄ globals.css        # Global styles\n‚îú‚îÄ‚îÄ components/            # React components\n‚îÇ   ‚îú‚îÄ‚îÄ map-view.tsx       # Google Maps wrapper\n‚îÇ   ‚îú‚îÄ‚îÄ staff-panel.tsx    # Sliding staff panel\n‚îÇ   ‚îî‚îÄ‚îÄ ui/                # Shadcn components\n‚îú‚îÄ‚îÄ lib/                   # Utilities\n‚îÇ   ‚îú‚îÄ‚îÄ actions.ts         # Server actions\n‚îÇ   ‚îú‚îÄ‚îÄ seed.ts            # DB seed script\n‚îÇ   ‚îî‚îÄ‚îÄ utils.ts           # Helper functions\n‚îú‚îÄ‚îÄ server/                # Server code\n‚îÇ   ‚îî‚îÄ‚îÄ db.ts              # DB connection\n‚îî‚îÄ‚îÄ shared/                # Shared code\n    ‚îî‚îÄ‚îÄ schema.ts          # DB schema\n```\n\n### Database Schema\n**Table: stores**\n- `id` (serial) - Primary key\n- `companyName` (text) - Company name\n- `storeName` (text) - Store name\n- `address` (text) - Full address\n- `tel` (text) - Phone number\n- `sns` (text) - Social media handle\n- `staffName` (text) - Staff member name\n- `latitude` (double) - Map latitude\n- `longitude` (double) - Map longitude\n- `postedAt` (timestamp) - Created date (auto)\n\n## Environment Variables Required\n\n### Current Setup\n- ‚úÖ `DATABASE_URL` - PostgreSQL connection (configured)\n- ‚ö†Ô∏è `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY` - Google Maps API key (needs to be added)\n\n### How to Add Google Maps API Key\n1. Create `.env.local` file in project root\n2. Add: `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_key_here`\n3. Get API key from [Google Cloud Console](https://console.cloud.google.com/)\n4. Enable Maps JavaScript API for your project\n\n## Key Features\n\n### 1. Interactive Map (/)\n- Google Maps with store markers\n- Click markers to view staff profiles\n- Sliding panel shows detailed information\n- \"View All Staff\" button to listings\n\n### 2. Staff Listings (/listings)\n- Grid layout with staff cards\n- Sorted by posted date (newest first)\n- Contact information display\n- Back button to map view\n\n### 3. Database Operations\n- **Seed**: `npx tsx lib/seed.ts`\n- **Push Schema**: `npm run db:push`\n- **Studio**: `npm run db:studio`\n\n## Recent Changes (Latest Session)\n- ‚úÖ Fixed Next.js 16 ‚Üí 15 version mismatch\n- ‚úÖ Fixed Tailwind CSS v4 ‚Üí v3 compatibility\n- ‚úÖ Fixed Drizzle ORM query syntax (eq function)\n- ‚úÖ Fixed WebSocket bufferutil dependency\n- ‚úÖ Added comprehensive README\n- ‚úÖ Removed deprecated turbo config warnings\n- ‚úÖ All tasks completed and architect-reviewed\n\n## Known Issues & Notes\n- Google Maps won't display until API key is configured (expected)\n- LSP diagnostics present but non-blocking (type inference for client components)\n- Database already seeded with 5 Tokyo stores\n\n## User Preferences\n- Preferred coding style: Clean, modern TypeScript with functional components\n- UI preferences: Minimalist design with Shadcn UI components\n- Database: PostgreSQL with Drizzle ORM over traditional ORMs\n\n## Deployment Checklist\n- [ ] Add Google Maps API key to `.env.local`\n- [ ] Test map functionality with API key\n- [ ] Run `npm run build` to verify production build\n- [ ] Configure allowedDevOrigins in next.config.ts if needed\n- [ ] Deploy to Replit or other hosting platform\n\n## Commands Reference\n```bash\n# Development\nnpm run dev          # Start dev server (port 5000)\n\n# Database\nnpm run db:push      # Push schema changes\nnpm run db:studio    # Open Drizzle Studio\nnpx tsx lib/seed.ts  # Seed database\n\n# Production\nnpm run build        # Build for production\nnpm run start        # Start production server\n```\n\n## Last Updated\nNovember 3, 2025 - Initial project creation complete\n","size_bytes":4646},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nconst config: Config = {\n  darkMode: [\"class\"],\n  content: [\n    \"./pages/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./components/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./app/**/*.{js,ts,jsx,tsx,mdx}\",\n  ],\n  theme: {\n    extend: {\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n      },\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n    },\n  },\n  plugins: [],\n};\nexport default config;\n","size_bytes":1446},"app/globals.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  :root {\n    --background: 0 0% 100%;\n    --foreground: 0 0% 3.9%;\n    --card: 0 0% 100%;\n    --card-foreground: 0 0% 3.9%;\n    --primary: 0 0% 9%;\n    --primary-foreground: 0 0% 98%;\n    --secondary: 0 0% 96.1%;\n    --secondary-foreground: 0 0% 9%;\n    --muted: 0 0% 96.1%;\n    --muted-foreground: 0 0% 45.1%;\n    --accent: 0 0% 96.1%;\n    --accent-foreground: 0 0% 9%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 0 0% 98%;\n    --border: 0 0% 89.8%;\n    --input: 0 0% 89.8%;\n    --ring: 0 0% 3.9%;\n    --radius: 0.5rem;\n  }\n\n  .dark {\n    --background: 0 0% 3.9%;\n    --foreground: 0 0% 98%;\n    --card: 0 0% 3.9%;\n    --card-foreground: 0 0% 98%;\n    --primary: 0 0% 98%;\n    --primary-foreground: 0 0% 9%;\n    --secondary: 0 0% 14.9%;\n    --secondary-foreground: 0 0% 98%;\n    --muted: 0 0% 14.9%;\n    --muted-foreground: 0 0% 63.9%;\n    --accent: 0 0% 14.9%;\n    --accent-foreground: 0 0% 98%;\n    --destructive: 0 62.8% 30.6%;\n    --destructive-foreground: 0 0% 98%;\n    --border: 0 0% 14.9%;\n    --input: 0 0% 14.9%;\n    --ring: 0 0% 83.1%;\n  }\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n","size_bytes":1256}},"version":2}